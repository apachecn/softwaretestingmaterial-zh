# 持续集成、持续交付和持续部署

> 原文:[https://www . software testing material . com/continuous-integration-vs-delivery-vs-deployment/](https://www.softwaretestingmaterial.com/continuous-integration-vs-delivery-vs-deployment/)

在本文中，我们将了解持续集成、持续交付和持续部署之间的区别。

让我们考虑这样一种情况，你整晚坐着为你的软件开发完美的代码。

第二天你花了一半的工作时间将你的代码集成到现有的软件中，但是你新添加的功能因为别人的代码而无法工作。

或者更糟的是，你完美的代码破坏了整个软件，你疯狂地试图修复这个问题。

我还没有谈到最后期限或来自你老板的压力。听起来是不是像一场噩梦！

我们可以通过持续集成、交付和部署来理顺整个流程。

目录 <button class="kb-table-of-contents-icon-trigger kb-table-of-contents-toggle" aria-expanded="true" aria-label="Collapse Table of Contents">*   [terms–continuous integration, continuous delivery, and continuous deployment](#terminology-continuous-integration-continuous-delivery-and-continuous-deployment)
*   [What is continuous integration](#what-is-continuous-integration)
    *   [Advantages of continuous integration](#advantages-of-continuous-integration)
    *   [Disadvantages of continuous integration](#disadvantages-of-continuous-integration)
    *   [Continuous integration of best practices](#best-practices-continuous-integration)
    *   [Challenges in Continuous Integration](#challenges-in-continuous-integration)
*   [What is continuous delivery](#what-is-continuous-delivery)
    *   [Advantages of continuous delivery](#advantages-of-continuous-delivery) [Challenges in continuous delivery](#advantages-of-continuous-delivery)
*   [What is continuous deployment](#what-is-continuous-deployment)
    *   [Advantages of continuous deployment](#advantages-of-continuous-deployment)
    *   [Disadvantages of continuous deployment](#disadvantages-of-continuous-deployment)
    *   [Continuous deployment of best practices](#best-practices-continuous-deployment)
    *   [Challenges in continuous deployment](#challenges-in-continuous-deployment)</button> 

在了解什么是持续集成、交付和部署之前。为了更好地理解这个过程，让我们来看一些你应该知道的基本术语。

![Continuous Integration Vs Delivery Vs Deployment](img/af1a142cb80ab95174486d1edb2186ff.png)

## **术语——持续集成、持续交付和持续部署**

*   **生产—**这是实时客户使用软件应用程序的环境，也称为实时环境。
*   测试环境- 这是测试人员验证应用程序并运行自动化脚本的环境。
*   **阶段-** 这是一个生产环境的复制环境。
*   **部署—**这是将变更或更新从一个环境推送到另一个环境的过程。
*   **版本控制–**它是一种跟踪和管理软件代码变更的工具。
*   **存储库-** 它是软件包的存储位置。
*   **Pipeline-** 它是一个自动化流程系统，旨在将新代码和更新从版本控制转移到生产中。
*   **构建-** 这是将一段代码转换成可在所需环境中运行的可执行软件的过程。

## **什么是持续集成**

![Continuous Integration](img/698ac7b415c438538defefb37a7b0dad.png)

持续集成(CI)是一种软件开发实践，之后是 [DevOps](https://www.softwaretestingmaterial.com/agile-vs-devops/) ，开发人员定期将他们的代码变更合并到一个中央存储库中。通常，这些代码变更是使用自动化构建和自动化测试来验证的。

持续集成允许开发人员每天向系统提交(n)次代码。

它自动化了提交代码、推进到版本控制系统、构建程序、运行测试、部署代码的过程。

因此，帮助我们快速发现和修复问题，提高产品质量，减少验证构建的时间。CI 通过自动化可重复的流程减少了手动任务。

### **持续集成的优势**

*   持续集成提供了更好的透明度和沟通
*   CI 检测集成错误并防止集成问题。
*   CI 提供了对软件开发和交付过程的洞察。
*   CI 解放了开发人员的手动任务，并促进了有助于
*   减少构建中的错误数量。
*   CI 便利了频繁的测试，这导致在影响系统的其他部分之前尽可能早地发现和修复错误
*   CI 帮助开发人员频繁地提交他们的代码并准备他们的构建。
*   CI 自动化了建筑物的分级，使“最新的构建”在任何时候都可用。
*   CI 减少了大量开销，避免了最后一分钟的混乱。
*   CI 使得查找软件构建的历史变得容易。
*   CI 提供即时反馈，从而降低风险并使部署过程更可预测。
*   CI 将测试驱动开发整合到项目中，它是在编写任何功能之前写出测试代码和测试用例的方法。因此，开发团队很清楚业务期望。
*   CI 优化流水线速度，实现更快的产品反馈循环。

### **持续集成的缺点**

*   持续集成的初始投资很高。
*   我们必须训练并向团队传授新的方法。
*   我们可能会面临一些来自熟悉某些方法的开发人员的内部阻力，他们拒绝重新学习新方法。
*   为了在代码集成过程中自动化测试，我们必须为每一个新特性或错误修复开发脚本。
*   为了创建这样的自动化测试套件，我们需要几个服务器和环境。
*   团队应该完全具备自动化知识和实现来创建这样的套件。
*   由于持续的代码集成，我们会得到几个构建，不是所有的构建都是稳定的。没有稳定的构建，自动化是不可能的，所以我们必须依靠手工努力。
*   手动团队会发现很难在每次新的构建出来时都进行完整的特性测试。

### **最佳实践持续集成**

#### **#1。维护单一源代码库:**

跟踪由多人开发的软件的多个版本可能很耗时，并且需要付出很多努力。存储库的单一来源会有所帮助。市场上有几种工具，如代码管理工具、配置管理、版本控制系统、存储库等。市场上有开源软件和商业软件。

#### **#2。自动化构建:**

将源代码转换成实际的构建将涉及许多过程，比如编译、移动文件、将模式加载到数据库中等等。手动过程容易出现人为错误，自动化构建将会避免很多这样的错误。构建的自动化应该包括集成过程的自动化，以及在构建结束时运行脚本，将软件部署到所需的环境中。

#### **#3。进行构建自检**

构建包括编译、链接和其他使其可执行的附加内容。仅仅使程序可执行并不能保证软件没有错误。尽早发现这些错误的最好方法是在构建过程中包含自动化测试。

下面列出了持续集成的一些其他最佳实践:

*   每个人都应该每天投入到主线中去。
*   我们应该立即修复损坏的构建。
*   我们必须用最近的变化创建快速的构建
*   我们应该在生产环境的克隆环境中进行测试。
*   我们应该让每个人都容易获得最新的可执行版本。
*   我们应该让整个过程高度可见。
*   我们应该尽早实现安全检查和平衡。

### **持续集成的挑战**

以下是我们在持续集成中可能面临的一些挑战:

#### **#1。组织文化的改变**

CI 在文化中带来新的变化，团队必须学习新的东西，以不同的方式做事，这里有一个陡峭的学习曲线，人们通常抵制变化。

#### **#2。难以维护**

构建一个单一的自动化代码库并不容易，开发人员会花时间编写测试用例，而不是开发新的功能。

#### **#3。不完整的版本**

CI 的目标是应用程序必须准备好在每次提交时进行部署。但情况并非总是如此，我们可能会得到一些不完整或未测试的构建，它永远不应该被提交。

#### **#4。复杂性**

对于一个小型的独立应用程序，维护构建、合并和提交是很容易的。但是对于一个大型复杂的应用程序，如果没有合适的系统，很难保持它的正确性。

#### **#5。需求返工**

根据管理层提供的反馈，需求可能会发生变化。这导致了一种情况，即大多数自动化代码都是无用的，这对开发团队来说是一种时间和精力的浪费。

## **什么是连续交货**

![Continuous Delivery](img/32fefe9bc6e133a6381f2d36a933d5e0.png)

连续交付是一种软件开发实践，它使用自动化来加速发布新代码的过程。它处理各种变更，如新特性、错误修复、配置变更等，并以快速而可持续的方式将它们发布到产品中。在 CI 阶段，开发人员构建、测试代码并将代码合并到主软件分支中，而在 CD 阶段，代码在短周期内在所需的环境中发布。

持续交付和持续集成帮助我们将所有的代码变更和更新部署到所需的环境中。由于有了 CD，开发团队可以更频繁地构建、测试和发布软件，从而降低成本、时间和风险。

连续交付管理基础架构供应、管理变更、部署工件、验证和监控这些变更，并确保在出现问题时不会发生这些变更。

### **连续交货的优势**

*   光盘简化了工作流程；它自动执行这些工作流以加快流程。
*   开发人员和管理员可以节省大量手动任务的时间，并致力于他们的实际交付。
*   自动化调试工具可以在几秒钟内通知问题，并帮助加快解决速度。
*   CD 确保产品快速到达市场。
*   CD 通过尽早解决问题来提高代码的质量。
*   CD 有助于我们通过更快的交付来应对市场变化。
*   CD 使交付过程更加有效、快速和安全。
*   由于即时反馈，CD 促进了企业和客户之间的对话。
*   CD 确保软件随时可以投入生产，并有助于频繁发布。
*   CD 提高了整个团队的生产力。

### **连续交货的缺点**

*   在软件开发生命周期中建立连续交付之前，它需要前期投资。
*   持续集成过程应该在持续交付过程之前建立。
*   用于部署的自动化脚本应该正确运行，否则团队必须求助于手动任务。
*   如果自动化测试套装没有被正确构建，它将会损害软件的质量。
*   团队应该建立定期交付代码变更的过程，这种协调会给团队带来很大的压力。
*   CD 需要可靠而强大的集成服务器；它们相当贵。

### **最佳实践连续交付**

*   实施持续集成流程和持续交付。
*   自动化连续交付过程中的几乎所有事情，不需要一次完成，随着时间的推移，我们可以逐渐自动化每个过程。
*   以相同的方式部署到每个环境中，测试或生产环境都一样。这有助于我们解决部署过程中的问题。
*   一切都应该保持在版本控制中。配置属性、需求文档、测试脚本、数据库创建、升级、降级和初始化脚本、技术文档等应该总是对每个人可用。
*   将数据库包含在管道中，为了实现自动化和可重复的应用程序部署，我们也应该将所有的更改包含在数据库中。
*   为您部署的代码创建冒烟测试的自动化脚本。
*   创建一个试运行环境，确保它是生产环境的精确副本，并在其中部署新的更改。

### **持续交付的挑战**

让我们调查一下当我们采用连续交付时可能会面临哪些挑战。

#### **#1。组织挑战**

持续集成需要组织中不同团队之间的大量协作和协调。每个团队都有自己的目标和可交付成果。将他们聚集在一起，让他们朝着一个共同的目标努力并不容易。这需要与不同的团队进行数月的协商和谈判。

团队中可能存在预先存在的问题，人们可能会抵制新的变化，并试图回到他们的旧套路。在这种情况下，只有良好的领导力和促进协作的工作文化才能有所帮助。为团队合作提供适当的激励。

尽管如此，管理团队和技术团队都需要付出大量的努力来开始持续的交付过程。

#### **#2。流程挑战**

团队应该熟悉要遵循的特定过程，但是持续的交付会改变一切。从开发、集成、测试和部署流程来看，SDLC 中的一切都要快得多，CD 应该定期进行。这将改变团队运作的整个方式，以及所有需要教授的东西。

团队必须抛弃他们的旧过程，学习一些东西，并遵循严格的指导方针来适应 CI/CD 过程。还涉及到很多自动化，团队必须提高他们的自动化知识。

我们必须花费大量的成本和精力来培训团队，说服他们切换到新的流程并逐步实施。

#### **#3。技术挑战**

理想情况下，持续交付应该是持续集成的扩展，应该执行一行代码来创建构建、测试它、合并代码，并在所需的环境中部署关于代码中的错误和问题的反馈。实施起来并不容易，因为我们需要大量的工具、资源、基础设施和培训来建立这个过程。

我们应该为我们的集成和部署流程投资强大可靠的服务器。从市场或开源获得合适的工具，做一些试验，以了解哪种工具适合我们的需求。并对团队进行新流程的平行培训。

这需要花费大量的成本、时间和精力来实现。

## **什么是持续部署**

![Continuous Deployment](img/d4a01caafaf46575fc8d6f382c141f67.png)

持续部署是一种软件发布策略，其中新的代码更新要经过严格的自动化测试，如果通过了这些测试，更新将直接发布到生产环境中，使这些更改对客户可见。在 CD 中，自动化是关键，它减少了人工干预并加快了过程。

持续部署的主要目标是优化周期时间——包括编码、测试、部署和在短期内收集客户反馈。自动化回归将消除耗时的人工开销。

集成到持续集成中并在持续交付中处于生产就绪状态的环境中测试和部署的代码将有助于持续部署。

### **持续部署的优势**

*   连续部署可以消除手动干预，从而节省大量时间。
*   由于部署过程不会暂停流程，开发人员可以专注于编码。
*   随着新功能的部署，它可以更快地到达客户手中，并且可以更快地收到关于该功能的反馈。
*   当大的发布被分解成周期性部署的小块时，度量进展变得更加容易。
*   CD 可以使我们的部署过程完美无缺，而不会影响安全性。
*   由于快速部署和反馈循环，开发人员和业务团队可以尝试新的创新想法来改进产品。
*   甚至相同软件的替代版本也可以发布到产品中，我们可以与客户一起执行 A/B 测试。

### **持续部署的缺点**

*   持续部署会在整个 SDLC 中带来动态变化，事情会以很快的速度发展，并不是所有员工都喜欢这种剧烈的变化。
*   持续部署需要持续监控、维护和报告，这会创建日志并增加成本和工作量，
*   错误的迭代顺序会打乱项目的整个流程。
*   我们无法记录这个过程，很难跟上交付的速度。
*   持续部署的基础是在生产环境中部署无错误的代码，实际上，拥有一个编写干净代码而没有任何捷径的团队是不可能的，因此，由于如此严格的程序，团队内部可能会有返工和压力。
*   主要版本需要通过营销、协助和支持以及其他部门来保证。

### **最佳实践持续部署**

*   优先考虑应用程序的可靠性和安全性——始终关注性能、灾难恢复、可用性、延迟、变更管理、容量等。
*   监控客户体验——我们必须设置系统来监控这些指标，并设置警报系统来检查服务器的响应时间以及其他事项。
*   自动化回滚——部署中总是有失败的风险，所以如果构建失败，拥有自动化回滚系统可以帮助我们。
*   保持反馈周期短-快速失败，并开始解决这些问题，而不是在一个功能上工作数周，并对客户可能不喜欢的功能进行返工。
*   测试驱动开发——它是编写符合需求和测试用例的可交付代码的实践。
*   单一部署方法——一旦设置了部署管道，它应该是开发人员部署代码的唯一地方。他们不应该做手工代码复制或其他旧的例行程序来部署代码。
*   容器化——在这里，我们确保应用程序在部署它的任何机器上的行为是相同的。这消除了代码在一个系统中工作而在另一个系统中不工作的问题。

### **持续部署的挑战**

#### **#1。团队挑战**

团队可能会发现很难过渡到不同于传统的部署方法。

#### **#2。结构挑战**

大型团队可以加快软件开发过程，但也可能导致失去沟通，从而延迟部署

#### **#3。工具挑战**

团队必须配备足够的知识和必要的工具和设置。这听起来可能很简单，但是培训团队、购买授权软件以及在工作流中实现它可能很有挑战性。

#### **#4。架构挑战**

很难在不影响其他功能的情况下对某个功能进行更改，因为整体架构的数据库可能会相互交织在一起。

## **持续集成、持续交付和持续**T2【部署】的区别

| 连续累计 | 连续交货 | 持续部署 |
| --- | --- | --- |
| CI 每天多次自动将特征分支与主分支合并。 | CD 分多个阶段自动完成整个发布过程。 | CD 自动化了将代码部署到生产环境的过程。 |
| 这是开发人员尽可能频繁地合并代码的实践。 | 它使自动化代码能够在合并(CI)后将所有更新部署到环境中。 | 在验证过程之后，它将代码发布到生产环境中。 |
| 如果构建没有通过自动化测试，代码就不会合并。 | 这些更改将被交付到环境中进行测试，如果通过了测试，构建就可以投入生产了。 | 最终用户可以看到生产环境的变化。 |
| 它侧重于集成代码。 | 它侧重于向环境发布新的变更以进行测试。 | 它侧重于将代码直接部署到客户的生产环境中。 |
| 它通常在开发人员提交代码后执行。 | 它是在合并的代码稳定无误后执行的。 | 它在特性测试和回归测试之后执行。 |
| 这有助于我们尽早发现并解决问题。 | 它允许检查软件的质量。 | 它允许尽可能快地验证新特性。 |
| 它使用单元测试和集成测试。 | 它使用业务逻辑测试。 | 它使用所有的测试策略。 |

## **结论**

持续集成、持续交付和持续部署都是管理软件发布的不同方式。它们都旨在通过自动化原本需要人工干预的任务来提高开发过程的效率。当考虑哪一个适合你的项目时，确保你知道每一个是做什么的，这样你就能发现它是否适合你的需要。我们提供了上述每个术语的简要解释，以帮助您在决定如何最好地管理您的发布工作流程之前，更彻底地理解这些术语。

**相关帖子:**

*   [敏捷 Vs 开发运维](https://www.softwaretestingmaterial.com/agile-vs-devops/)
*   [QAOps Vs DevOps](https://www.softwaretestingmaterial.com/qaops-vs-devops/)
*   [Scrum Vs 瀑布](https://www.softwaretestingmaterial.com/scrum-vs-waterfall/)
*   [敏捷 Vs 瀑布](https://www.softwaretestingmaterial.com/agile-vs-waterfall/)
*   [产品负责人 Vs Scrum 主管](https://www.softwaretestingmaterial.com/product-owner-vs-scrum-master/)